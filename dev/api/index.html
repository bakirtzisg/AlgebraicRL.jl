<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · AlgebraicRL.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">AlgebraicRL.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">AlgebraicRL.jl</a></li><li class="is-active"><a class="tocitem" href>API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/bakirtzisg/AlgebraicRL.jl/blob/main/docs/src/api.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h3 id="MDPAgent"><a class="docs-heading-anchor" href="#MDPAgent">MDPAgent</a><a id="MDPAgent-1"></a><a class="docs-heading-anchor-permalink" href="#MDPAgent" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="AlgebraicRL.MDPAgent" href="#AlgebraicRL.MDPAgent"><code>AlgebraicRL.MDPAgent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct MDPAgent
    mdp::AbstractEnv
    agent::AbstractPolicy
end</code></pre><p>Defines a discrete machine that consists of an MDP and the agent capable of solving it. Running solve() will iterate through 1 episode of the MDP and return a done signal. The MDP follows the specification from ReinforcementLearning.jl. Each MDP, of type AbstractEnv, has the following functions:</p><ul><li>action_space(env::YourEnv)</li><li>state(env::YourEnv)</li><li>state_space(env::YourEnv)</li><li>reward(env::YourEnv)</li><li>is_terminated(env::YourEnv)</li><li>reset!(env::YourEnv)</li><li>(env::YourEnv)(action) # note this function applies your action to the environment and steps forward in time.</li></ul><p>See https://juliareinforcementlearning.org/docs/How<em>to</em>write<em>a</em>customized_environment/ for more details on how to write a custom environment. Alternatively, see https://github.com/JuliaReinforcementLearning/ReinforcementLearning.jl/tree/master/src/ReinforcementLearningExperiments/deps/experiments/experiments for examples of used environments. </p><p>The agent also comes from ReinforcementLearning.jl. See https://github.com/JuliaReinforcementLearning/ReinforcementLearning.jl/blob/61256bcf1c493914d5003f22e126c997332c2c39/src/ReinforcementLearningBase/src/interface.jl for a full definition. Mainly, it defines the following functions:</p><ul><li>(policy::AbstractPolicy)(env) = returns an action from the policy given the environment</li><li>update(policy::AbstractPolicy, experience) = updates the policy based on an online or offline experience</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bakirtzisg/AlgebraicRL.jl/blob/dd2bfee877688dfb56a08cf17f2a70bee1f34763/src/MDPAgent.jl#L3-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AlgebraicRL.solve" href="#AlgebraicRL.solve"><code>AlgebraicRL.solve</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">solve(mdpAgent::MDPAgent, display = false)</code></pre><p>Runs 1 episode of the environment under the policy provided by the agent.</p><p>Arguments:</p><ul><li><code>mdpAgent</code> - The MDPAgent you constructed, which contains an MDP following the AbstractEnv interface and an agent following the AbstractPolicy interface.</li><li><code>display</code> - Whether or not to display the environment each step. Displaying is done via calling Base.display, so overwrite Base.display(yourEnv) in order to view your environment being solved.</li></ul><p>Returns:</p><ul><li>The accumulated reward over the episode as returned by the environment</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bakirtzisg/AlgebraicRL.jl/blob/dd2bfee877688dfb56a08cf17f2a70bee1f34763/src/MDPAgent.jl#L40-L50">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.collect-Tuple{MDPAgent}" href="#Base.collect-Tuple{MDPAgent}"><code>Base.collect</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Base.collect(mdpagent::MDPAgent)</code></pre><p>Overwrites base.collect for our class since it will be used by Algebraic dynamics. Simply returns the mdpAgent since there is nothing to collect. Note collect is usually used to return an array of elements from a collection or iterator </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bakirtzisg/AlgebraicRL.jl/blob/dd2bfee877688dfb56a08cf17f2a70bee1f34763/src/MDPAgent.jl#L59-L64">source</a></section></article><h3 id="MDPAgentMachine"><a class="docs-heading-anchor" href="#MDPAgentMachine">MDPAgentMachine</a><a id="MDPAgentMachine-1"></a><a class="docs-heading-anchor-permalink" href="#MDPAgentMachine" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="AlgebraicRL.MDPAgentMachine-Tuple{AbstractEnv, AbstractPolicy}" href="#AlgebraicRL.MDPAgentMachine-Tuple{AbstractEnv, AbstractPolicy}"><code>AlgebraicRL.MDPAgentMachine</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">MDPAgentMachine(    env::AbstractEnv, agent::AbstractPolicy;
                    input_size = 1, input_function = default_input_function,
                    output_size = 1, output_function = default_output_function,
                    display = false, resetMDP = true
                    )</code></pre><p>This function returns a DiscreteMachine from AlgebraicDynamics</p><p>The env and agent must follow the respective interfaces from ReinforcementLearning.jl</p><p>By default, the internal workings of the machine does not use the input provided to <code>eval_dynamics</code>. This can be overwritten by using a custom input function. Make sure the size of the vector in your input function is the same as the <code>input_size</code> you provide.</p><p>Its output is true if the MDP is terminated and false otherwise. This can also be overwritten by providing a custom output function. Once again, make sure the size of the output vector is the same as the <code>output_size</code> you provide in this function call.</p><p>You can also reset the environment before running the machine if you wish. This is useful in some cases to make sure the environment is in a good state, but it is bad in other cases. So, you are able to control if it is reset or not.</p><p>You can also choose to display the environment each timestep by setting display = true. It will call Base.display(env), so you must overwrite Base.display for your environment in order to use that functionality.</p><p>Arguments:</p><ul><li><code>env</code> - a MDP following the AbstractEnv interface</li><li><code>agent</code> - a agent/policy following the AbstractPolicy interface</li><li><code>input_size</code> - an int which must be equal to the size of the vector used by the input function</li><li><code>input_function</code> - a function which is called on the MDP before running an episode. Must have the same arguments as <code>default_input_function</code></li><li><code>output_size</code> - an int which must be equal to the size of the vector returned by the output function</li><li><code>output_function</code> - a function which is called after the episode is terminated. Must have the same arguments as <code>default_input_function</code>. Returns a vector.</li><li><code>display</code> - whether or not to display the MDP every timestep. Calls Base.display(env) if true.</li><li><code>resetMDP</code> - whether or not to reset the MDP via reset!(env) before running an episode.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bakirtzisg/AlgebraicRL.jl/blob/dd2bfee877688dfb56a08cf17f2a70bee1f34763/src/MDPAgentMachine.jl#L68-L100">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AlgebraicRL.default_output_function-Tuple{AbstractEnv}" href="#AlgebraicRL.default_output_function-Tuple{AbstractEnv}"><code>AlgebraicRL.default_output_function</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">default_output_function(env::AbstractEnv)</code></pre><p>Returns the result of the mdp episode. Is it done or not?  To do a more sophisticated readout, such as reading internal state, write your own function with  the same arguments that returns a vector.  Output vector length must be the same length as specified by output_size in the function call to MDPAgentMachine</p><p>Arguments: </p><ul><li><code>env</code> - A MDP following the AbstractEnv interface</li></ul><p>Returns:</p><ul><li>1.0 if the environment is terminated, 0.0 otherwise.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bakirtzisg/AlgebraicRL.jl/blob/dd2bfee877688dfb56a08cf17f2a70bee1f34763/src/MDPAgentMachine.jl#L3-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AlgebraicRL.default_input_function-Tuple{AbstractEnv, Vector}" href="#AlgebraicRL.default_input_function-Tuple{AbstractEnv, Vector}"><code>AlgebraicRL.default_input_function</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">default_input_function(env::AbstractEnv, internal_state::Vector)</code></pre><p>Sets the internal state of the mdp to be the internal state provided. Default function does nothing.  To customize, create your own function with the same arguments. The internal state must be the same size as the size given by input_size in the function call to MDPAgentMachine</p><p>Arguments:</p><ul><li><code>env</code> - A MDP following the AbstractEnv interface</li><li><code>internal_state</code> - A vector which contains the information needed to set the internal state. In the <code>default_input_function</code>, does nothing.</li></ul><p>Returns:</p><ul><li>nothing</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bakirtzisg/AlgebraicRL.jl/blob/dd2bfee877688dfb56a08cf17f2a70bee1f34763/src/MDPAgentMachine.jl#L21-L34">source</a></section></article><h4 id="MDPAgentMachine-and-AlgebraicDynamics.jl"><a class="docs-heading-anchor" href="#MDPAgentMachine-and-AlgebraicDynamics.jl">MDPAgentMachine and AlgebraicDynamics.jl</a><a id="MDPAgentMachine-and-AlgebraicDynamics.jl-1"></a><a class="docs-heading-anchor-permalink" href="#MDPAgentMachine-and-AlgebraicDynamics.jl" title="Permalink"></a></h4><p>The following relates to MDPAgentMachines and how they interact with the AlgebraicDynamics.jl interface. We are not using internal variables, which they call &#39;u&#39;, so we are able to simplify the function calls slightly. </p><article class="docstring"><header><a class="docstring-binding" id="AlgebraicDynamics.UWDDynam.eval_dynamics" href="#AlgebraicDynamics.UWDDynam.eval_dynamics"><code>AlgebraicDynamics.UWDDynam.eval_dynamics</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">AlgebraicDynamics.DWDDynam.eval_dynamics(f::AbstractMachine, xs=[0.0])</code></pre><p>Runs an episode of the MDP following the policy given in the constructor for the machine. Is equilvalent to calling eval_dynamics with zeros for the internal state variable. </p><p>Arguments: </p><ul><li><code>f</code> - a machine created by MDPAgentMachine</li><li><code>xs</code> - external variables used for setting the initial state</li></ul><p>Returns:</p><ul><li>a vector of zeros. IE basically nothing but AlgebraicDynamics requires a vector.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bakirtzisg/AlgebraicRL.jl/blob/dd2bfee877688dfb56a08cf17f2a70bee1f34763/src/MDPAgentMachine.jl#L145-L157">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AlgebraicRL.read_output-Tuple{AbstractMachine}" href="#AlgebraicRL.read_output-Tuple{AbstractMachine}"><code>AlgebraicRL.read_output</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">read_output(f::AbstractMachine)</code></pre><p>Since we are not using internal variables via AlgebraicDynamics, we can overwrite readout to assume zeros for those variables. This is convenient for our purposes. However, due to their API structure, we would have issues if we tried to overwite readout(::AbstractMachine). Instead, we will simply rename the function to <code>read_output</code> for our purposes.</p><p>Arguments:</p><ul><li><code>f</code> - a machine created by MDPAgentMachine</li></ul><p>Returns:</p><ul><li>The result of the output_function specified in the function call to MDPAgentMachine</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bakirtzisg/AlgebraicRL.jl/blob/dd2bfee877688dfb56a08cf17f2a70bee1f34763/src/MDPAgentMachine.jl#L161-L173">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« AlgebraicRL.jl</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.19 on <span class="colophon-date" title="Wednesday 6 July 2022 15:39">Wednesday 6 July 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
